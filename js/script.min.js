jQuery(document).ready(function(t){function e(){t(".basket-item:odd").addClass("basket-item--bg"),t(".basket-item:even").removeClass("basket-item--bg")}function a(){function e(e,a,i){e.click(function(e){e.preventDefault();var s=t(this).closest(".basket-item__counter").find(".basket-item__amount"),o=s.val();o>=i&&(o=+o+1*a),s.val(o),n()})}e(t(".more"),1,0),e(t(".less"),-1,1)}function i(t){return t<1e4?t:String(t).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}function n(){var e=0,a=t(".basket-item");t(a).each(function(){var a=t(this).find(".basket-item__price"),n=a.text();n=i(n),a.text(n);var s=t(this).find(".basket-item__price").text().replace(/\D/g,""),o=t(this).find(".basket-item__amount").val(),c=s*o;e+=c,c<=0?t(this).find(".basket-item__cost").text("-"):t(this).find(".basket-item__cost").text(i(c))}),s(e)}function s(e){t(".basket-total__cost--no-discount").text(i(e)+" p");var a;a=e>=2e4?.15:e>=15e3?.1:e>=1e4?.05:0,t(".discount").text(100*a+"%");var n=e-e*a;t(".basket-total__cost--discount").text(i(n)+" p"),a?(t(".basket-total__text a").show(),t(".basket-total__line:eq(1)").show()):(t(".basket-total__text a").hide(),t(".basket-total__line:eq(1)").hide())}e(),a(),t(".basket-item__amount").change(function(t){t.preventDefault(),n()}),n(),t(".delete").click(function(a){a.preventDefault(),t(this).closest(".basket-item").remove(),e(),n()}),t(".delete-all").click(function(e){e.preventDefault(),t(".basket-item").remove(),n()})});